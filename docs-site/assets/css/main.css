@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
  font-family: "IRANSans";
  src:
    url("~/assets/fonts/iransans/iransans.woff2") format("woff2"),
    url("~/assets/fonts/iransans/iransans.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Fira Code";
  src:
    url("~/assets/fonts/firacode/FiraCode-Regular.woff2") format("woff2"),
    url("~/assets/fonts/firacode/FiraCode-Regular.woff") format("woff");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Theme Variables */
:root {
  --color-background: theme('colors.white');
  --color-surface: theme('colors.slate.50');
  --color-text-primary: theme('colors.slate.900');
  --color-text-secondary: theme('colors.slate.600');
  --color-border: theme('colors.slate.200');
  --color-code-bg: theme('colors.slate.100');
}

.dark {
  --color-background: theme('colors.slate.900');
  --color-surface: theme('colors.slate.800');
  --color-text-primary: theme('colors.slate.100');
  --color-text-secondary: theme('colors.slate.400');
  --color-border: theme('colors.slate.700');
  --color-code-bg: theme('colors.slate.800');
}

html {
  font-family:
    "Inter",
    "ui-sans-serif",
    "system-ui",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
}

html[lang="fa"] {
  font-family: "IRANSans", "ui-sans-serif", "system-ui", sans-serif;
}

body {
  @apply bg-white text-slate-900 transition-colors duration-200;
}

.dark body {
  @apply bg-slate-900 text-slate-100;
}

code,
pre {
  font-variant-ligatures: contextual;
}

/* Code Blocks */
.prose pre {
  background-color: #282c34 !important;
  border: none !important;
  border-radius: 12px !important;
  padding: 1rem !important;
  overflow-x: auto !important;
  margin: 1.5rem 0 !important;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;
}

.dark .prose pre {
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5) !important;
}

.prose code {
  background-color: transparent !important;
  padding: 0 !important;
  color: inherit !important;
}

.prose :not(pre) > code {
  @apply bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400 px-1.5 py-0.5 rounded font-semibold text-sm;
}

.code-block-wrapper {
  @apply rounded-xl overflow-hidden my-6 shadow-lg;
}

.code-block-header {
  @apply bg-slate-800 dark:bg-slate-950 border-b border-slate-700 px-4 py-3 flex justify-between items-center;
}

.code-language {
  @apply text-xs font-semibold text-slate-400 uppercase tracking-wider;
}

.copy-button {
  @apply bg-transparent border-none text-slate-400 hover:text-primary-400 cursor-pointer px-3 py-1.5 rounded-md transition-all duration-200 flex items-center justify-center hover:bg-slate-700/50;
}

.copy-button:active {
  @apply scale-95;
}

@layer components {
  /* Hero Section */
  .hero {
    @apply bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 py-12 sm:py-20;
  }

  .hero__content {
    @apply mx-auto flex max-w-6xl flex-col gap-8 px-6 text-left;
  }

  .hero__eyebrow {
    @apply text-sm font-bold uppercase tracking-wider text-primary-600 dark:text-primary-400;
  }

  .hero__title {
    @apply text-4xl font-extrabold text-slate-900 dark:text-white sm:text-5xl lg:text-6xl;
    background: linear-gradient(135deg, theme('colors.primary.600'), theme('colors.primary.800'));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .dark .hero__title {
    background: linear-gradient(135deg, theme('colors.primary.400'), theme('colors.primary.600'));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero__lead {
    @apply max-w-3xl text-lg text-slate-600 dark:text-slate-300 sm:text-xl leading-relaxed;
  }

  .hero__actions {
    @apply flex flex-col gap-4 sm:flex-row sm:items-center;
  }

  html[lang="fa"] .hero__content {
    @apply text-right items-end;
  }

  /* Buttons */
  .md-button {
    @apply inline-flex items-center justify-center rounded-lg px-6 py-3 text-sm font-bold transition-all duration-200 focus:outline-none focus:ring-4 active:scale-95;
  }

  .md-button--primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 shadow-lg hover:shadow-xl focus:ring-primary-300 dark:focus:ring-primary-800;
  }

  .md-button--secondary {
    @apply border-2 border-primary-600 bg-transparent text-primary-600 hover:bg-primary-50 dark:border-primary-400 dark:text-primary-400 dark:hover:bg-primary-900/20 focus:ring-primary-300 dark:focus:ring-primary-800;
  }

  .md-button svg {
    flex-shrink: 0;
    transition: transform 0.2s ease;
  }

  .md-button:hover svg {
    transform: scale(1.1);
  }

  /* Cards */
  .landing-grid {
    @apply grid gap-6 sm:grid-cols-2 lg:grid-cols-3;
  }

  .landing-card {
    @apply rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-6 shadow-md hover:shadow-xl transition-all duration-300 hover:-translate-y-1;
  }

  .landing-card h3 {
    @apply mb-4 text-xl font-bold text-slate-900 dark:text-white;
  }

  .landing-card p {
    @apply text-slate-600 dark:text-slate-300;
  }

  /* Language Switcher */
  .language-switcher {
    @apply inline-flex items-center rounded-full bg-slate-100 dark:bg-slate-800 px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors;
  }

  /* Feature Badge */
  .feature-badge {
    @apply inline-flex items-center rounded-full bg-primary-100 dark:bg-primary-900/30 px-3 py-1 text-xs font-bold text-primary-700 dark:text-primary-300 uppercase tracking-wide;
  }

  /* Table */
  .prose table {
    @apply border-collapse w-full my-6;
  }

  .prose th {
    @apply bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100;
  }

  .prose td {
    @apply border border-slate-200 dark:border-slate-700 px-4 py-3 text-slate-700 dark:text-slate-300;
  }

  .prose tr:hover {
    @apply bg-slate-50/50 dark:bg-slate-800/50;
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out;
}

/* Scroll Shadows */
.scroll-shadow {
  background:
    linear-gradient(white 30%, rgba(255, 255, 255, 0)),
    linear-gradient(rgba(255, 255, 255, 0), white 70%) 0 100%,
    radial-gradient(50% 0, farthest-side, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)),
    radial-gradient(50% 100%, farthest-side, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0)) 0 100%;
  background-repeat: no-repeat;
  background-size: 100% 40px, 100% 40px, 100% 14px, 100% 14px;
  background-attachment: local, local, scroll, scroll;
}
